<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Promise的链式调用</title>
</head>
<body>
<script>
   // new Promise((resolve,reject)=>{
   //     setTimeout(()=>{
   //         resolve("AAA")
   //     },1000)
   // }).then(res=>{
   //     console.log(res,'第一层')
   //
   //     return new Promise((resolve)=>{
   //         resolve(res+'11111')
   //     })
   // }).then(res=>{
   //     console.log(res,'第二层')
   //     return new Promise((resolve=>{
   //         resolve(res+'222222')
   //     }))
   // }).then(res=>{
   //     console.log(res,'第三层')
   // })

   //简写
   // new Promise((resolve,reject)=>{
   //     setTimeout(()=>{
   //         resolve("AAA")
   //     },1000)
   // }).then(res=>{
   //     console.log(res,'第一层')
   //     return Promise.resolve(res+'11111')
   // }).then(res=>{
   //     console.log(res,'第二层')
   //     return Promise.resolve(res+'22222')
   // }).then(res=>{
   //     console.log(res,'第三层')
   // })
   //再简写
   //省略掉Promise.resolve
   new Promise((resolve,reject)=>{
       setTimeout(()=>{
           resolve("AAA")
       },1000)
   }).then(res=>{
       console.log(res,'第一层')
       return res+'11111'
   }).then(res=>{
       console.log(res,'第二层')
       return res+'22222'
   }).then(res=>{
       console.log(res,'第三层')
       //return Promise.reject('err')
       throw 'cxlerr'
   }).catch(err=>{
       console.log(err)
   })
</script>
</body>
</html>